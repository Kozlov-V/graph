-module(time_SUITE).
-compile(export_all).
-include_lib("common_test/include/ct.hrl").

all() ->
    [
        h1,
        h1_2,
        h1_3,
        h2,
        h2_2,
        h3,
        h3_2,
        h6,
        h6_2,
        h12,
        h12_2,
        d1,
        d1_2,
        w1,
        w1_2,
        w2,
        w2_2,
        d30,
        int_eq_day,
        too_close_values
    ].

init_per_suite(Config) ->
    Config.

init_per_testcase(_, Config) ->
    Config.

end_per_testcase(_, Config) ->
    Config.

end_per_suite(Config) ->
    Config.

h1(_Config) ->
    {ok, 
        [{"start",1395911706,"27.03 13:15"},
        {"sub",1395911760,"13:16"},{"sub",1395911820,"13:17"},{"sub",1395911880,"13:18"},
		{"sub",1395911940,"13:19"},{"sub",1395912000,"13:20"},{"sub",1395912060,"13:21"},
		{"sub",1395912120,"13:22"},{"sub",1395912180,"13:23"},{"sub",1395912240,"13:24"},
		{"sub",1395912300,"13:25"},{"sub",1395912360,"13:26"},{"sub",1395912420,"13:27"},
		{"sub",1395912480,"13:28"},{"sub",1395912540,"13:29"},{"sub",1395912600,"13:30"},
		{"sub",1395912660,"13:31"},{"sub",1395912720,"13:32"},{"sub",1395912780,"13:33"},
		{"sub",1395912840,"13:34"},{"sub",1395912900,"13:35"},{"sub",1395912960,"13:36"},
		{"sub",1395913020,"13:37"},{"sub",1395913080,"13:38"},{"sub",1395913140,"13:39"},
		{"sub",1395913200,"13:40"},{"sub",1395913260,"13:41"},{"sub",1395913320,"13:42"},
		{"sub",1395913380,"13:43"},{"sub",1395913440,"13:44"},{"sub",1395913500,"13:45"},
		{"sub",1395913560,"13:46"},{"sub",1395913620,"13:47"},{"sub",1395913680,"13:48"},
		{"sub",1395913740,"13:49"},{"sub",1395913800,"13:50"},{"sub",1395913860,"13:51"},
		{"sub",1395913920,"13:52"},{"sub",1395913980,"13:53"},{"sub",1395914040,"13:54"},
		{"sub",1395914100,"13:55"},{"sub",1395914160,"13:56"},{"sub",1395914220,"13:57"},
		{"sub",1395914280,"13:58"},{"sub",1395914340,"13:59"},{"main",1395914400,"14:00"},
	    {"sub",1395914460,"14:01"},{"sub",1395914520,"14:02"},{"sub",1395914580,"14:03"},
	    {"sub",1395914640,"14:04"},{"sub",1395914700,"14:05"},{"sub",1395914760,"14:06"},
    	{"sub",1395914820,"14:07"},{"sub",1395914880,"14:08"},{"sub",1395914940,"14:09"},
        {"sub",1395915000,"14:10"},{"sub",1395915060,"14:11"},{"sub",1395915120,"14:12"},
        {"sub",1395915180,"14:13"},{"sub",1395915240,"14:14"},{"end",1395915306,"27.03 14:15"}]} 
        = graph:calc_time_grid(1395911706, 3600, 25, 1296, 9).

h1_2(_Config) ->
    {ok, 
        [{"start",1395911710,"27.03 13:15"},{"sub",1395911880,"13:18"},{"sub",1395912000,"13:20"},
		{"sub",1395912120,"13:22"},{"sub",1395912240,"13:24"},{"sub",1395912360,"13:26"},
		{"sub",1395912480,"13:28"},{"sub",1395912600,"13:30"},{"sub",1395912720,"13:32"},
		{"sub",1395912840,"13:34"},{"sub",1395912960,"13:36"},{"sub",1395913080,"13:38"},
		{"sub",1395913200,"13:40"},{"sub",1395913320,"13:42"},{"sub",1395913440,"13:44"},
		{"sub",1395913560,"13:46"},{"sub",1395913680,"13:48"},{"sub",1395913800,"13:50"},
		{"sub",1395913920,"13:52"},{"sub",1395914040,"13:54"},{"sub",1395914160,"13:56"},
		{"sub",1395914280,"13:58"},{"main",1395914400,"14:00"},{"sub",1395914520,"14:02"},
		{"sub",1395914640,"14:04"},{"sub",1395914760,"14:06"},{"sub",1395914880,"14:08"},
		{"sub",1395915000,"14:10"},{"sub",1395915120,"14:12"},{"sub",1395915240,"14:14"},
		{"end",1395915310,"27.03 14:15"}]}
        = graph:calc_time_grid(1395911710,3600, 25, 640, 9).

h2(_Config) ->
    {ok, 
        [{"start",1395908114,"27.03 12:15"},{"sub",1395908280,"12:18"},{"sub",1395908400,"12:20"},
		{"sub",1395908520,"12:22"},{"sub",1395908640,"12:24"},{"sub",1395908760,"12:26"},
		{"sub",1395908880,"12:28"},{"sub",1395909000,"12:30"},{"sub",1395909120,"12:32"},
		{"sub",1395909240,"12:34"},{"sub",1395909360,"12:36"},{"sub",1395909480,"12:38"},
		{"sub",1395909600,"12:40"},{"sub",1395909720,"12:42"},{"sub",1395909840,"12:44"},
		{"sub",1395909960,"12:46"},{"sub",1395910080,"12:48"},{"sub",1395910200,"12:50"},
		{"sub",1395910320,"12:52"},{"sub",1395910440,"12:54"},{"sub",1395910560,"12:56"},
		{"sub",1395910680,"12:58"},{"main",1395910800,"13:00"},{"sub",1395910920,"13:02"},
		{"sub",1395911040,"13:04"},{"sub",1395911160,"13:06"},{"sub",1395911280,"13:08"},
		{"sub",1395911400,"13:10"},{"sub",1395911520,"13:12"},{"sub",1395911640,"13:14"},
		{"sub",1395911760,"13:16"},{"sub",1395911880,"13:18"},{"sub",1395912000,"13:20"},
		{"sub",1395912120,"13:22"},{"sub",1395912240,"13:24"},{"sub",1395912360,"13:26"},
		{"sub",1395912480,"13:28"},{"sub",1395912600,"13:30"},{"sub",1395912720,"13:32"},
		{"sub",1395912840,"13:34"},{"sub",1395912960,"13:36"},{"sub",1395913080,"13:38"},
		{"sub",1395913200,"13:40"},{"sub",1395913320,"13:42"},{"sub",1395913440,"13:44"},
		{"sub",1395913560,"13:46"},{"sub",1395913680,"13:48"},{"sub",1395913800,"13:50"},
		{"sub",1395913920,"13:52"},{"sub",1395914040,"13:54"},{"sub",1395914160,"13:56"},
		{"sub",1395914280,"13:58"},{"main",1395914400,"14:00"},{"sub",1395914520,"14:02"},
		{"sub",1395914640,"14:04"},{"sub",1395914760,"14:06"},{"sub",1395914880,"14:08"},
		{"sub",1395915000,"14:10"},{"sub",1395915120,"14:12"},{"sub",1395915240,"14:14"},
		{"end",1395915314,"27.03 14:15"}]} 
        = graph:calc_time_grid(1395908114,7200,25, 1296, 9).

h3(_Config) ->        
    {ok,
        [{"start",1395904515,"27.03 11:15"},{"sub",1395904680,"11:18"},{"sub",1395904800,"11:20"},
		{"sub",1395904920,"11:22"},{"sub",1395905040,"11:24"},{"sub",1395905160,"11:26"},
		{"sub",1395905280,"11:28"},{"sub",1395905400,"11:30"},{"sub",1395905520,"11:32"},
		{"sub",1395905640,"11:34"},{"sub",1395905760,"11:36"},{"sub",1395905880,"11:38"},
		{"sub",1395906000,"11:40"},{"sub",1395906120,"11:42"},{"sub",1395906240,"11:44"},
		{"sub",1395906360,"11:46"},{"sub",1395906480,"11:48"},{"sub",1395906600,"11:50"},
		{"sub",1395906720,"11:52"},{"sub",1395906840,"11:54"},{"sub",1395906960,"11:56"},
		{"sub",1395907080,"11:58"},{"main",1395907200,"12:00"},{"sub",1395907320,"12:02"},
		{"sub",1395907440,"12:04"},{"sub",1395907560,"12:06"},{"sub",1395907680,"12:08"},
		{"sub",1395907800,"12:10"},{"sub",1395907920,"12:12"},{"sub",1395908040,"12:14"},
		{"sub",1395908160,"12:16"},{"sub",1395908280,"12:18"},{"sub",1395908400,"12:20"},
		{"sub",1395908520,"12:22"},{"sub",1395908640,"12:24"},{"sub",1395908760,"12:26"},
		{"sub",1395908880,"12:28"},{"sub",1395909000,"12:30"},{"sub",1395909120,"12:32"},
		{"sub",1395909240,"12:34"},{"sub",1395909360,"12:36"},{"sub",1395909480,"12:38"},
		{"sub",1395909600,"12:40"},{"sub",1395909720,"12:42"},{"sub",1395909840,"12:44"},
		{"sub",1395909960,"12:46"},{"sub",1395910080,"12:48"},{"sub",1395910200,"12:50"},
		{"sub",1395910320,"12:52"},{"sub",1395910440,"12:54"},{"sub",1395910560,"12:56"},
		{"sub",1395910680,"12:58"},{"main",1395910800,"13:00"},{"sub",1395910920,"13:02"},
		{"sub",1395911040,"13:04"},{"sub",1395911160,"13:06"},{"sub",1395911280,"13:08"},
		{"sub",1395911400,"13:10"},{"sub",1395911520,"13:12"},{"sub",1395911640,"13:14"},
		{"sub",1395911760,"13:16"},{"sub",1395911880,"13:18"},{"sub",1395912000,"13:20"},
		{"sub",1395912120,"13:22"},{"sub",1395912240,"13:24"},{"sub",1395912360,"13:26"},
		{"sub",1395912480,"13:28"},{"sub",1395912600,"13:30"},{"sub",1395912720,"13:32"},
		{"sub",1395912840,"13:34"},{"sub",1395912960,"13:36"},{"sub",1395913080,"13:38"},
		{"sub",1395913200,"13:40"},{"sub",1395913320,"13:42"},{"sub",1395913440,"13:44"},
		{"sub",1395913560,"13:46"},{"sub",1395913680,"13:48"},{"sub",1395913800,"13:50"},
		{"sub",1395913920,"13:52"},{"sub",1395914040,"13:54"},{"sub",1395914160,"13:56"},
		{"sub",1395914280,"13:58"},{"main",1395914400,"14:00"},{"sub",1395914520,"14:02"},
		{"sub",1395914640,"14:04"},{"sub",1395914760,"14:06"},{"sub",1395914880,"14:08"},
		{"sub",1395915000,"14:10"},{"sub",1395915120,"14:12"},{"end",1395915315,"27.03 14:15"}]}
        = graph:calc_time_grid(1395904515,10800,25, 1296, 9).

h6(_Config) ->
    {ok,
        [{"start",1395893716,"27.03 08:15"},{"sub",1395894000,"08:20"},{"sub",1395894300,"08:25"},
		{"sub",1395894600,"08:30"},{"sub",1395894900,"08:35"},{"sub",1395895200,"08:40"},
		{"sub",1395895500,"08:45"},{"sub",1395895800,"08:50"},{"sub",1395896100,"08:55"},
		{"main",1395896400,"09:00"},{"sub",1395896700,"09:05"},{"sub",1395897000,"09:10"},
		{"sub",1395897300,"09:15"},{"sub",1395897600,"09:20"},{"sub",1395897900,"09:25"},
		{"sub",1395898200,"09:30"},{"sub",1395898500,"09:35"},{"sub",1395898800,"09:40"},
		{"sub",1395899100,"09:45"},{"sub",1395899400,"09:50"},{"sub",1395899700,"09:55"},
		{"main",1395900000,"10:00"},{"sub",1395900300,"10:05"},{"sub",1395900600,"10:10"},
		{"sub",1395900900,"10:15"},{"sub",1395901200,"10:20"},{"sub",1395901500,"10:25"},
		{"sub",1395901800,"10:30"},{"sub",1395902100,"10:35"},{"sub",1395902400,"10:40"},
		{"sub",1395902700,"10:45"},{"sub",1395903000,"10:50"},{"sub",1395903300,"10:55"},
		{"main",1395903600,"11:00"},{"sub",1395903900,"11:05"},{"sub",1395904200,"11:10"},
		{"sub",1395904500,"11:15"},{"sub",1395904800,"11:20"},{"sub",1395905100,"11:25"},
		{"sub",1395905400,"11:30"},{"sub",1395905700,"11:35"},{"sub",1395906000,"11:40"},
		{"sub",1395906300,"11:45"},{"sub",1395906600,"11:50"},{"sub",1395906900,"11:55"},
		{"main",1395907200,"12:00"},{"sub",1395907500,"12:05"},{"sub",1395907800,"12:10"},
		{"sub",1395908100,"12:15"},{"sub",1395908400,"12:20"},{"sub",1395908700,"12:25"},
		{"sub",1395909000,"12:30"},{"sub",1395909300,"12:35"},{"sub",1395909600,"12:40"},
		{"sub",1395909900,"12:45"},{"sub",1395910200,"12:50"},{"sub",1395910500,"12:55"},
		{"main",1395910800,"13:00"},{"sub",1395911100,"13:05"},{"sub",1395911400,"13:10"},
		{"sub",1395911700,"13:15"},{"sub",1395912000,"13:20"},{"sub",1395912300,"13:25"},
		{"sub",1395912600,"13:30"},{"sub",1395912900,"13:35"},{"sub",1395913200,"13:40"},
		{"sub",1395913500,"13:45"},{"sub",1395913800,"13:50"},{"sub",1395914100,"13:55"},
		{"main",1395914400,"14:00"},{"sub",1395914700,"14:05"},{"sub",1395915000,"14:10"},
		{"end",1395915316,"27.03 14:15"}]}
        = graph:calc_time_grid(1395893716,21600,25, 1296, 9).

h12(_Config) ->
    {ok, 
        [{"start",1395872117,"27.03 02:15"},{"sub",1395873000,"02:30"},{"sub",1395873900,"02:45"},
		{"main",1395874800,"03:00"},{"sub",1395875700,"03:15"},{"sub",1395876600,"03:30"},
		{"sub",1395877500,"03:45"},{"main",1395878400,"04:00"},{"sub",1395879300,"04:15"},
		{"sub",1395880200,"04:30"},{"sub",1395881100,"04:45"},{"main",1395882000,"05:00"},
		{"sub",1395882900,"05:15"},{"sub",1395883800,"05:30"},{"sub",1395884700,"05:45"},
		{"main",1395885600,"06:00"},{"sub",1395886500,"06:15"},{"sub",1395887400,"06:30"},
		{"sub",1395888300,"06:45"},{"main",1395889200,"07:00"},{"sub",1395890100,"07:15"},
		{"sub",1395891000,"07:30"},{"sub",1395891900,"07:45"},{"main",1395892800,"08:00"},
		{"sub",1395893700,"08:15"},{"sub",1395894600,"08:30"},{"sub",1395895500,"08:45"},
		{"main",1395896400,"09:00"},{"sub",1395897300,"09:15"},{"sub",1395898200,"09:30"},
		{"sub",1395899100,"09:45"},{"main",1395900000,"10:00"},{"sub",1395900900,"10:15"},
		{"sub",1395901800,"10:30"},{"sub",1395902700,"10:45"},{"main",1395903600,"11:00"},
		{"sub",1395904500,"11:15"},{"sub",1395905400,"11:30"},{"sub",1395906300,"11:45"},
		{"main",1395907200,"12:00"},{"sub",1395908100,"12:15"},{"sub",1395909000,"12:30"},
		{"sub",1395909900,"12:45"},{"main",1395910800,"13:00"},{"sub",1395911700,"13:15"},
		{"sub",1395912600,"13:30"},{"sub",1395913500,"13:45"},{"main",1395914400,"14:00"},
		{"end",1395915317,"27.03 14:15"}]}
        = graph:calc_time_grid(1395872117,43200,25, 1296, 9).

d1(_Config) ->
    {ok,
        [{"start",1395828918,"26.03 14:15"},{"sub",1395829800,"14:30"},{"main",1395831600,"15:00"},
		{"sub",1395833400,"15:30"},{"main",1395835200,"16:00"},{"sub",1395837000,"16:30"},
		{"main",1395838800,"17:00"},{"sub",1395840600,"17:30"},{"main",1395842400,"18:00"},
		{"sub",1395844200,"18:30"},{"main",1395846000,"19:00"},{"sub",1395847800,"19:30"},
		{"main",1395849600,"20:00"},{"sub",1395851400,"20:30"},{"main",1395853200,"21:00"},
		{"sub",1395855000,"21:30"},{"main",1395856800,"22:00"},{"sub",1395858600,"22:30"},
		{"main",1395860400,"23:00"},{"sub",1395862200,"23:30"},{"main",1395864000,"27.03"},
		{"sub",1395865800,"00:30"},{"main",1395867600,"01:00"},{"sub",1395869400,"01:30"},
		{"main",1395871200,"02:00"},{"sub",1395873000,"02:30"},{"main",1395874800,"03:00"},
		{"sub",1395876600,"03:30"},{"main",1395878400,"04:00"},{"sub",1395880200,"04:30"},
		{"main",1395882000,"05:00"},{"sub",1395883800,"05:30"},{"main",1395885600,"06:00"},
		{"sub",1395887400,"06:30"},{"main",1395889200,"07:00"},{"sub",1395891000,"07:30"},
		{"main",1395892800,"08:00"},{"sub",1395894600,"08:30"},{"main",1395896400,"09:00"},
		{"sub",1395898200,"09:30"},{"main",1395900000,"10:00"},{"sub",1395901800,"10:30"},
		{"main",1395903600,"11:00"},{"sub",1395905400,"11:30"},{"main",1395907200,"12:00"},
		{"sub",1395909000,"12:30"},{"main",1395910800,"13:00"},{"sub",1395912600,"13:30"},
		{"main",1395914400,"14:00"},{"end",1395915318,"27.03 14:15"}]}
        = graph:calc_time_grid(1395828918,86400,25, 1296, 9).

w1(_Config) ->        
    {ok, 
        [{"start",1395310521,"20.03 14:15"},{"sub",1395324000,"18:00"},{"sub",1395334800,"21:00"},
		{"main",1395345600,"21.03"},{"sub",1395356400,"03:00"},{"sub",1395367200,"06:00"},
		{"sub",1395378000,"09:00"},{"sub",1395388800,"12:00"},{"sub",1395399600,"15:00"},
		{"sub",1395410400,"18:00"},{"sub",1395421200,"21:00"},{"main",1395432000,"22.03"},
		{"sub",1395442800,"03:00"},{"sub",1395453600,"06:00"},{"sub",1395464400,"09:00"},
		{"sub",1395475200,"12:00"},{"sub",1395486000,"15:00"},{"sub",1395496800,"18:00"},
		{"sub",1395507600,"21:00"},{"main",1395518400,"23.03"},{"sub",1395529200,"03:00"},
		{"sub",1395540000,"06:00"},{"sub",1395550800,"09:00"},{"sub",1395561600,"12:00"},
		{"sub",1395572400,"15:00"},{"sub",1395583200,"18:00"},{"sub",1395594000,"21:00"},
		{"main",1395604800,"24.03"},{"sub",1395615600,"03:00"},{"sub",1395626400,"06:00"},
		{"sub",1395637200,"09:00"},{"sub",1395648000,"12:00"},{"sub",1395658800,"15:00"},
		{"sub",1395669600,"18:00"},{"sub",1395680400,"21:00"},{"main",1395691200,"25.03"},
		{"sub",1395702000,"03:00"},{"sub",1395712800,"06:00"},{"sub",1395723600,"09:00"},
		{"sub",1395734400,"12:00"},{"sub",1395745200,"15:00"},{"sub",1395756000,"18:00"},
		{"sub",1395766800,"21:00"},{"main",1395777600,"26.03"},{"sub",1395788400,"03:00"},
		{"sub",1395799200,"06:00"},{"sub",1395810000,"09:00"},{"sub",1395820800,"12:00"},
		{"sub",1395831600,"15:00"},{"sub",1395842400,"18:00"},{"sub",1395853200,"21:00"},
		{"main",1395864000,"27.03"},{"sub",1395874800,"03:00"},{"sub",1395885600,"06:00"},
		{"sub",1395896400,"09:00"},{"sub",1395907200,"12:00"},{"end",1395915321,"27.03 14:15"}]} 
        = graph:calc_time_grid(1395310521,604800,25, 1296, 9).

w2(_Config) ->
    {ok,
        [{"start",1394705722,"13.03 14:15"},{"sub",1394719200,"18:00"},{"main",1394740800,"14.03"},
		{"sub",1394762400,"06:00"},{"sub",1394784000,"12:00"},{"sub",1394805600,"18:00"},
		{"main",1394827200,"15.03"},{"sub",1394848800,"06:00"},{"sub",1394870400,"12:00"},
		{"sub",1394892000,"18:00"},{"main",1394913600,"16.03"},{"sub",1394935200,"06:00"},
		{"sub",1394956800,"12:00"},{"sub",1394978400,"18:00"},{"main",1395000000,"17.03"},
		{"sub",1395021600,"06:00"},{"sub",1395043200,"12:00"},{"sub",1395064800,"18:00"},
		{"main",1395086400,"18.03"},{"sub",1395108000,"06:00"},{"sub",1395129600,"12:00"},
		{"sub",1395151200,"18:00"},{"main",1395172800,"19.03"},{"sub",1395194400,"06:00"},
		{"sub",1395216000,"12:00"},{"sub",1395237600,"18:00"},{"main",1395259200,"20.03"},
		{"sub",1395280800,"06:00"},{"sub",1395302400,"12:00"},{"sub",1395324000,"18:00"},
		{"main",1395345600,"21.03"},{"sub",1395367200,"06:00"},{"sub",1395388800,"12:00"},
		{"sub",1395410400,"18:00"},{"main",1395432000,"22.03"},{"sub",1395453600,"06:00"},
		{"sub",1395475200,"12:00"},{"sub",1395496800,"18:00"},{"main",1395518400,"23.03"},
		{"sub",1395540000,"06:00"},{"sub",1395561600,"12:00"},{"sub",1395583200,"18:00"},
		{"main",1395604800,"24.03"},{"sub",1395626400,"06:00"},{"sub",1395648000,"12:00"},
		{"sub",1395669600,"18:00"},{"main",1395691200,"25.03"},{"sub",1395712800,"06:00"},
		{"sub",1395734400,"12:00"},{"sub",1395756000,"18:00"},{"main",1395777600,"26.03"},
		{"sub",1395799200,"06:00"},{"sub",1395820800,"12:00"},{"sub",1395842400,"18:00"},
		{"main",1395864000,"27.03"},{"sub",1395885600,"06:00"},{"end",1395915322,"27.03 14:15"}]}
        = graph:calc_time_grid(1394705722,1209600,25, 1296, 9).

d30(_Config) ->
    {ok,
        [{"start",1393323323,"25.02 14:15"},{"main",1393358400,"26.02"},{"sub",1393401600,"12:00"},
		{"main",1393444800,"27.02"},{"sub",1393488000,"12:00"},{"main",1393531200,"28.02"},
		{"sub",1393574400,"12:00"},{"main",1393617600,"01.03"},{"sub",1393660800,"12:00"},
		{"main",1393704000,"02.03"},{"sub",1393747200,"12:00"},{"main",1393790400,"03.03"},
		{"sub",1393833600,"12:00"},{"main",1393876800,"04.03"},{"sub",1393920000,"12:00"},
		{"main",1393963200,"05.03"},{"sub",1394006400,"12:00"},{"main",1394049600,"06.03"},
		{"sub",1394092800,"12:00"},{"main",1394136000,"07.03"},{"sub",1394179200,"12:00"},
		{"main",1394222400,"08.03"},{"sub",1394265600,"12:00"},{"main",1394308800,"09.03"},
		{"sub",1394352000,"12:00"},{"main",1394395200,"10.03"},{"sub",1394438400,"12:00"},
		{"main",1394481600,"11.03"},{"sub",1394524800,"12:00"},{"main",1394568000,"12.03"},
		{"sub",1394611200,"12:00"},{"main",1394654400,"13.03"},{"sub",1394697600,"12:00"},
		{"main",1394740800,"14.03"},{"sub",1394784000,"12:00"},{"main",1394827200,"15.03"},
		{"sub",1394870400,"12:00"},{"main",1394913600,"16.03"},{"sub",1394956800,"12:00"},
		{"main",1395000000,"17.03"},{"sub",1395043200,"12:00"},{"main",1395086400,"18.03"},
		{"sub",1395129600,"12:00"},{"main",1395172800,"19.03"},{"sub",1395216000,"12:00"},
		{"main",1395259200,"20.03"},{"sub",1395302400,"12:00"},{"main",1395345600,"21.03"},
		{"sub",1395388800,"12:00"},{"main",1395432000,"22.03"},{"sub",1395475200,"12:00"},
		{"main",1395518400,"23.03"},{"sub",1395561600,"12:00"},{"main",1395604800,"24.03"},
		{"sub",1395648000,"12:00"},{"main",1395691200,"25.03"},{"sub",1395734400,"12:00"},
		{"main",1395777600,"26.03"},{"sub",1395820800,"12:00"},{"main",1395864000,"27.03"},
		{"end",1395915323,"27.03 14:15"}]}
        = graph:calc_time_grid(1393323323,2592000,25, 1296, 9).

h1_3(_Config) ->
    {ok,
        [{"start",1395911730,"27.03 13:15"},{"sub",1395911820,"13:17"},{"sub",1395911880,"13:18"},
		{"sub",1395911940,"13:19"},{"sub",1395912000,"13:20"},{"sub",1395912060,"13:21"},
		{"sub",1395912120,"13:22"},{"sub",1395912180,"13:23"},{"sub",1395912240,"13:24"},
		{"sub",1395912300,"13:25"},{"sub",1395912360,"13:26"},{"sub",1395912420,"13:27"},
		{"sub",1395912480,"13:28"},{"sub",1395912540,"13:29"},{"sub",1395912600,"13:30"},
		{"sub",1395912660,"13:31"},{"sub",1395912720,"13:32"},{"sub",1395912780,"13:33"},
		{"sub",1395912840,"13:34"},{"sub",1395912900,"13:35"},{"sub",1395912960,"13:36"},
		{"sub",1395913020,"13:37"},{"sub",1395913080,"13:38"},{"sub",1395913140,"13:39"},
		{"sub",1395913200,"13:40"},{"sub",1395913260,"13:41"},{"sub",1395913320,"13:42"},
		{"sub",1395913380,"13:43"},{"sub",1395913440,"13:44"},{"sub",1395913500,"13:45"},
		{"sub",1395913560,"13:46"},{"sub",1395913620,"13:47"},{"sub",1395913680,"13:48"},
		{"sub",1395913740,"13:49"},{"sub",1395913800,"13:50"},{"sub",1395913860,"13:51"},
		{"sub",1395913920,"13:52"},{"sub",1395913980,"13:53"},{"sub",1395914040,"13:54"},
		{"sub",1395914100,"13:55"},{"sub",1395914160,"13:56"},{"sub",1395914220,"13:57"},
		{"sub",1395914280,"13:58"},{"sub",1395914340,"13:59"},{"main",1395914400,"14:00"},
		{"sub",1395914460,"14:01"},{"sub",1395914520,"14:02"},{"sub",1395914580,"14:03"},
		{"sub",1395914640,"14:04"},{"sub",1395914700,"14:05"},{"sub",1395914760,"14:06"},
		{"sub",1395914820,"14:07"},{"sub",1395914880,"14:08"},{"sub",1395914940,"14:09"},
		{"sub",1395915000,"14:10"},{"sub",1395915060,"14:11"},{"sub",1395915120,"14:12"},
		{"sub",1395915180,"14:13"},{"sub",1395915240,"14:14"},{"end",1395915330,"27.03 14:15"}]}
        = graph:calc_time_grid(1395911730,3600,25, 1296, 9).

h2_2(_Config) ->
    {ok,
        [{"start",1395303344,"20.03 12:15"},{"sub",1395303480,"12:18"},{"sub",1395303600,"12:20"},
        {"sub",1395303720,"12:22"},{"sub",1395303840,"12:24"},{"sub",1395303960,"12:26"},{"sub",1395304080,"12:28"},
		{"sub",1395304200,"12:30"},{"sub",1395304320,"12:32"},{"sub",1395304440,"12:34"},
		{"sub",1395304560,"12:36"},{"sub",1395304680,"12:38"},{"sub",1395304800,"12:40"},
		{"sub",1395304920,"12:42"},{"sub",1395305040,"12:44"},{"sub",1395305160,"12:46"},
		{"sub",1395305280,"12:48"},{"sub",1395305400,"12:50"},{"sub",1395305520,"12:52"},
        {"sub",1395305640,"12:54"},{"sub",1395305760,"12:56"},{"sub",1395305880,"12:58"},
		{"main",1395306000,"13:00"},{"sub",1395306120,"13:02"},{"sub",1395306240,"13:04"},
		{"sub",1395306360,"13:06"},{"sub",1395306480,"13:08"},{"sub",1395306600,"13:10"},
		{"sub",1395306720,"13:12"},{"sub",1395306840,"13:14"},{"sub",1395306960,"13:16"},
		{"sub",1395307080,"13:18"},{"sub",1395307200,"13:20"},{"sub",1395307320,"13:22"},
		{"sub",1395307440,"13:24"},{"sub",1395307560,"13:26"},{"sub",1395307680,"13:28"},
		{"sub",1395307800,"13:30"},{"sub",1395307920,"13:32"},{"sub",1395308040,"13:34"},
		{"sub",1395308160,"13:36"},{"sub",1395308280,"13:38"},{"sub",1395308400,"13:40"},
		{"sub",1395308520,"13:42"},{"sub",1395308640,"13:44"},{"sub",1395308760,"13:46"},
		{"sub",1395308880,"13:48"},{"sub",1395309000,"13:50"},{"sub",1395309120,"13:52"},
		{"sub",1395309240,"13:54"},{"sub",1395309360,"13:56"},{"sub",1395309480,"13:58"},
		{"main",1395309600,"14:00"},{"sub",1395309720,"14:02"},{"sub",1395309840,"14:04"},
		{"sub",1395309960,"14:06"},{"sub",1395310080,"14:08"},{"sub",1395310200,"14:10"},
		{"sub",1395310320,"14:12"},{"sub",1395310440,"14:14"},{"end",1395310544,"20.03 14:15"}]}
        = graph:calc_time_grid(1395303344,7200,25, 1296, 9).

h3_2(_Config) ->
    {ok,
        [{"start",1395299744,"20.03 11:15"},{"sub",1395299880,"11:18"},{"sub",1395300000,"11:20"},
		{"sub",1395300120,"11:22"},{"sub",1395300240,"11:24"},{"sub",1395300360,"11:26"},
		{"sub",1395300480,"11:28"},{"sub",1395300600,"11:30"},{"sub",1395300720,"11:32"},
		{"sub",1395300840,"11:34"},{"sub",1395300960,"11:36"},{"sub",1395301080,"11:38"},
		{"sub",1395301200,"11:40"},{"sub",1395301320,"11:42"},{"sub",1395301440,"11:44"},
		{"sub",1395301560,"11:46"},{"sub",1395301680,"11:48"},{"sub",1395301800,"11:50"},
		{"sub",1395301920,"11:52"},{"sub",1395302040,"11:54"},{"sub",1395302160,"11:56"},
		{"sub",1395302280,"11:58"},{"main",1395302400,"12:00"},{"sub",1395302520,"12:02"},
		{"sub",1395302640,"12:04"},{"sub",1395302760,"12:06"},{"sub",1395302880,"12:08"},
		{"sub",1395303000,"12:10"},{"sub",1395303120,"12:12"},{"sub",1395303240,"12:14"},
		{"sub",1395303360,"12:16"},{"sub",1395303480,"12:18"},{"sub",1395303600,"12:20"},
		{"sub",1395303720,"12:22"},{"sub",1395303840,"12:24"},{"sub",1395303960,"12:26"},
		{"sub",1395304080,"12:28"},{"sub",1395304200,"12:30"},{"sub",1395304320,"12:32"},
		{"sub",1395304440,"12:34"},{"sub",1395304560,"12:36"},{"sub",1395304680,"12:38"},
		{"sub",1395304800,"12:40"},{"sub",1395304920,"12:42"},{"sub",1395305040,"12:44"},
		{"sub",1395305160,"12:46"},{"sub",1395305280,"12:48"},{"sub",1395305400,"12:50"},
		{"sub",1395305520,"12:52"},{"sub",1395305640,"12:54"},{"sub",1395305760,"12:56"},
		{"sub",1395305880,"12:58"},{"main",1395306000,"13:00"},{"sub",1395306120,"13:02"},
		{"sub",1395306240,"13:04"},{"sub",1395306360,"13:06"},{"sub",1395306480,"13:08"},
		{"sub",1395306600,"13:10"},{"sub",1395306720,"13:12"},{"sub",1395306840,"13:14"},
		{"sub",1395306960,"13:16"},{"sub",1395307080,"13:18"},{"sub",1395307200,"13:20"},
		{"sub",1395307320,"13:22"},{"sub",1395307440,"13:24"},{"sub",1395307560,"13:26"},
		{"sub",1395307680,"13:28"},{"sub",1395307800,"13:30"},{"sub",1395307920,"13:32"},
		{"sub",1395308040,"13:34"},{"sub",1395308160,"13:36"},{"sub",1395308280,"13:38"},
		{"sub",1395308400,"13:40"},{"sub",1395308520,"13:42"},{"sub",1395308640,"13:44"},
		{"sub",1395308760,"13:46"},{"sub",1395308880,"13:48"},{"sub",1395309000,"13:50"},
		{"sub",1395309120,"13:52"},{"sub",1395309240,"13:54"},{"sub",1395309360,"13:56"},
		{"sub",1395309480,"13:58"},{"main",1395309600,"14:00"},{"sub",1395309720,"14:02"},
		{"sub",1395309840,"14:04"},{"sub",1395309960,"14:06"},{"sub",1395310080,"14:08"},
		{"sub",1395310200,"14:10"},{"sub",1395310320,"14:12"},{"sub",1395310440,"14:14"},
		{"end",1395310544,"20.03 14:15"}]}
        = graph:calc_time_grid(1395299744,10800,25, 1296, 9).

h6_2(_Config) -> 
    {ok,
        [{"start",1395288944,"20.03 08:15"},{"sub",1395289200,"08:20"},{"sub",1395289500,"08:25"},
		{"sub",1395289800,"08:30"},{"sub",1395290100,"08:35"},{"sub",1395290400,"08:40"},
		{"sub",1395290700,"08:45"},{"sub",1395291000,"08:50"},{"sub",1395291300,"08:55"},
		{"main",1395291600,"09:00"},{"sub",1395291900,"09:05"},{"sub",1395292200,"09:10"},
		{"sub",1395292500,"09:15"},{"sub",1395292800,"09:20"},{"sub",1395293100,"09:25"},
		{"sub",1395293400,"09:30"},{"sub",1395293700,"09:35"},{"sub",1395294000,"09:40"},
		{"sub",1395294300,"09:45"},{"sub",1395294600,"09:50"},{"sub",1395294900,"09:55"},
		{"main",1395295200,"10:00"},{"sub",1395295500,"10:05"},{"sub",1395295800,"10:10"},
		{"sub",1395296100,"10:15"},{"sub",1395296400,"10:20"},{"sub",1395296700,"10:25"},
		{"sub",1395297000,"10:30"},{"sub",1395297300,"10:35"},{"sub",1395297600,"10:40"},
		{"sub",1395297900,"10:45"},{"sub",1395298200,"10:50"},{"sub",1395298500,"10:55"},
		{"main",1395298800,"11:00"},{"sub",1395299100,"11:05"},{"sub",1395299400,"11:10"},
		{"sub",1395299700,"11:15"},{"sub",1395300000,"11:20"},{"sub",1395300300,"11:25"},
		{"sub",1395300600,"11:30"},{"sub",1395300900,"11:35"},{"sub",1395301200,"11:40"},
		{"sub",1395301500,"11:45"},{"sub",1395301800,"11:50"},{"sub",1395302100,"11:55"},
		{"main",1395302400,"12:00"},{"sub",1395302700,"12:05"},{"sub",1395303000,"12:10"},
		{"sub",1395303300,"12:15"},{"sub",1395303600,"12:20"},{"sub",1395303900,"12:25"},
		{"sub",1395304200,"12:30"},{"sub",1395304500,"12:35"},{"sub",1395304800,"12:40"},
		{"sub",1395305100,"12:45"},{"sub",1395305400,"12:50"},{"sub",1395305700,"12:55"},
		{"main",1395306000,"13:00"},{"sub",1395306300,"13:05"},{"sub",1395306600,"13:10"},
		{"sub",1395306900,"13:15"},{"sub",1395307200,"13:20"},{"sub",1395307500,"13:25"},
		{"sub",1395307800,"13:30"},{"sub",1395308100,"13:35"},{"sub",1395308400,"13:40"},
		{"sub",1395308700,"13:45"},{"sub",1395309000,"13:50"},{"sub",1395309300,"13:55"},
		{"main",1395309600,"14:00"},{"sub",1395309900,"14:05"},{"sub",1395310200,"14:10"},
		{"end",1395310544,"20.03 14:15"}]}
        = graph:calc_time_grid(1395288944,21600,25, 1296, 9).

h12_2(_Config) -> 
    {ok,
        [{"start",1395267344,"20.03 02:15"},{"sub",1395268200,"02:30"},{"sub",1395269100,"02:45"},
		{"main",1395270000,"03:00"},{"sub",1395270900,"03:15"},{"sub",1395271800,"03:30"},
		{"sub",1395272700,"03:45"},{"main",1395273600,"04:00"},{"sub",1395274500,"04:15"},
		{"sub",1395275400,"04:30"},{"sub",1395276300,"04:45"},{"main",1395277200,"05:00"},
		{"sub",1395278100,"05:15"},{"sub",1395279000,"05:30"},{"sub",1395279900,"05:45"},
		{"main",1395280800,"06:00"},{"sub",1395281700,"06:15"},{"sub",1395282600,"06:30"},
		{"sub",1395283500,"06:45"},{"main",1395284400,"07:00"},{"sub",1395285300,"07:15"},
		{"sub",1395286200,"07:30"},{"sub",1395287100,"07:45"},{"main",1395288000,"08:00"},
		{"sub",1395288900,"08:15"},{"sub",1395289800,"08:30"},{"sub",1395290700,"08:45"},
		{"main",1395291600,"09:00"},{"sub",1395292500,"09:15"},{"sub",1395293400,"09:30"},
		{"sub",1395294300,"09:45"},{"main",1395295200,"10:00"},{"sub",1395296100,"10:15"},
		{"sub",1395297000,"10:30"},{"sub",1395297900,"10:45"},{"main",1395298800,"11:00"},
		{"sub",1395299700,"11:15"},{"sub",1395300600,"11:30"},{"sub",1395301500,"11:45"},
		{"main",1395302400,"12:00"},{"sub",1395303300,"12:15"},{"sub",1395304200,"12:30"},
		{"sub",1395305100,"12:45"},{"main",1395306000,"13:00"},{"sub",1395306900,"13:15"},
		{"sub",1395307800,"13:30"},{"sub",1395308700,"13:45"},{"main",1395309600,"14:00"},
		{"end",1395310544,"20.03 14:15"}]}
        = graph:calc_time_grid(1395267344,43200,25, 1296, 9).

d1_2(_Config) ->
    {ok,
        [{"start",1395224144,"19.03 14:15"},{"sub",1395225000,"14:30"},{"main",1395226800,"15:00"},
		{"sub",1395228600,"15:30"},{"main",1395230400,"16:00"},{"sub",1395232200,"16:30"},
		{"main",1395234000,"17:00"},{"sub",1395235800,"17:30"},{"main",1395237600,"18:00"},
		{"sub",1395239400,"18:30"},{"main",1395241200,"19:00"},{"sub",1395243000,"19:30"},
		{"main",1395244800,"20:00"},{"sub",1395246600,"20:30"},{"main",1395248400,"21:00"},
		{"sub",1395250200,"21:30"},{"main",1395252000,"22:00"},{"sub",1395253800,"22:30"},
		{"main",1395255600,"23:00"},{"sub",1395257400,"23:30"},{"main",1395259200,"20.03"},
		{"sub",1395261000,"00:30"},{"main",1395262800,"01:00"},{"sub",1395264600,"01:30"},
		{"main",1395266400,"02:00"},{"sub",1395268200,"02:30"},{"main",1395270000,"03:00"},
		{"sub",1395271800,"03:30"},{"main",1395273600,"04:00"},{"sub",1395275400,"04:30"},
		{"main",1395277200,"05:00"},{"sub",1395279000,"05:30"},{"main",1395280800,"06:00"},
		{"sub",1395282600,"06:30"},{"main",1395284400,"07:00"},{"sub",1395286200,"07:30"},
		{"main",1395288000,"08:00"},{"sub",1395289800,"08:30"},{"main",1395291600,"09:00"},
		{"sub",1395293400,"09:30"},{"main",1395295200,"10:00"},{"sub",1395297000,"10:30"},
		{"main",1395298800,"11:00"},{"sub",1395300600,"11:30"},{"main",1395302400,"12:00"},
		{"sub",1395304200,"12:30"},{"main",1395306000,"13:00"},{"sub",1395307800,"13:30"},
		{"main",1395309600,"14:00"},{"end",1395310544,"20.03 14:15"}]}
        = graph:calc_time_grid(1395224144,86400,25, 1296, 9).

w1_2(_Config) ->
    {ok,
        [{"start",1394705744,"13.03 14:15"},{"sub",1394719200,"18:00"},{"sub",1394730000,"21:00"},
		{"main",1394740800,"14.03"},{"sub",1394751600,"03:00"},{"sub",1394762400,"06:00"},
		{"sub",1394773200,"09:00"},{"sub",1394784000,"12:00"},{"sub",1394794800,"15:00"},
		{"sub",1394805600,"18:00"},{"sub",1394816400,"21:00"},{"main",1394827200,"15.03"},
		{"sub",1394838000,"03:00"},{"sub",1394848800,"06:00"},{"sub",1394859600,"09:00"},
		{"sub",1394870400,"12:00"},{"sub",1394881200,"15:00"},{"sub",1394892000,"18:00"},
		{"sub",1394902800,"21:00"},{"main",1394913600,"16.03"},{"sub",1394924400,"03:00"},
		{"sub",1394935200,"06:00"},{"sub",1394946000,"09:00"},{"sub",1394956800,"12:00"},
		{"sub",1394967600,"15:00"},{"sub",1394978400,"18:00"},{"sub",1394989200,"21:00"},
		{"main",1395000000,"17.03"},{"sub",1395010800,"03:00"},{"sub",1395021600,"06:00"},
		{"sub",1395032400,"09:00"},{"sub",1395043200,"12:00"},{"sub",1395054000,"15:00"},
		{"sub",1395064800,"18:00"},{"sub",1395075600,"21:00"},{"main",1395086400,"18.03"},
		{"sub",1395097200,"03:00"},{"sub",1395108000,"06:00"},{"sub",1395118800,"09:00"},
		{"sub",1395129600,"12:00"},{"sub",1395140400,"15:00"},{"sub",1395151200,"18:00"},
		{"sub",1395162000,"21:00"},{"main",1395172800,"19.03"},{"sub",1395183600,"03:00"},
		{"sub",1395194400,"06:00"},{"sub",1395205200,"09:00"},{"sub",1395216000,"12:00"},
		{"sub",1395226800,"15:00"},{"sub",1395237600,"18:00"},{"sub",1395248400,"21:00"},
		{"main",1395259200,"20.03"},{"sub",1395270000,"03:00"},{"sub",1395280800,"06:00"},
		{"sub",1395291600,"09:00"},{"sub",1395302400,"12:00"},{"end",1395310544,"20.03 14:15"}]}
        = graph:calc_time_grid(1394705744,604800,25, 1296, 9).

w2_2(_Config) ->
    {ok,
        [{"start",1394100944,"06.03 14:15"},{"sub",1394114400,"18:00"},{"main",1394136000,"07.03"},
		{"sub",1394157600,"06:00"},{"sub",1394179200,"12:00"},{"sub",1394200800,"18:00"},
		{"main",1394222400,"08.03"},{"sub",1394244000,"06:00"},{"sub",1394265600,"12:00"},
		{"sub",1394287200,"18:00"},{"main",1394308800,"09.03"},{"sub",1394330400,"06:00"},
		{"sub",1394352000,"12:00"},{"sub",1394373600,"18:00"},{"main",1394395200,"10.03"},
		{"sub",1394416800,"06:00"},{"sub",1394438400,"12:00"},{"sub",1394460000,"18:00"},
		{"main",1394481600,"11.03"},{"sub",1394503200,"06:00"},{"sub",1394524800,"12:00"},
		{"sub",1394546400,"18:00"},{"main",1394568000,"12.03"},{"sub",1394589600,"06:00"},
		{"sub",1394611200,"12:00"},{"sub",1394632800,"18:00"},{"main",1394654400,"13.03"},
		{"sub",1394676000,"06:00"},{"sub",1394697600,"12:00"},{"sub",1394719200,"18:00"},
		{"main",1394740800,"14.03"},{"sub",1394762400,"06:00"},{"sub",1394784000,"12:00"},
		{"sub",1394805600,"18:00"},{"main",1394827200,"15.03"},{"sub",1394848800,"06:00"},
        {"sub",1394870400,"12:00"},{"sub",1394892000,"18:00"},{"main",1394913600,"16.03"},
		{"sub",1394935200,"06:00"},{"sub",1394956800,"12:00"},{"sub",1394978400,"18:00"},
		{"main",1395000000,"17.03"},{"sub",1395021600,"06:00"},{"sub",1395043200,"12:00"},
		{"sub",1395064800,"18:00"},{"main",1395086400,"18.03"},{"sub",1395108000,"06:00"},
		{"sub",1395129600,"12:00"},{"sub",1395151200,"18:00"},{"main",1395172800,"19.03"},
		{"sub",1395194400,"06:00"},{"sub",1395216000,"12:00"},{"sub",1395237600,"18:00"},
		{"main",1395259200,"20.03"},{"sub",1395280800,"06:00"},{"end",1395310544,"20.03 14:15"}]}
        = graph:calc_time_grid(1394100944,1209600,25, 1296, 9).

int_eq_day(_Config) ->
    {ok, 
        [{"start",1391198414,"01.02 00:00"},{"main",1391284800,"02.02"},{"sub",1391371200,"Mon"},
        {"sub",1391457600,"Tue"},{"sub",1391544000,"Wed"},{"sub",1391630400,"Thu"},
        {"sub",1391716800,"Fri"},{"sub",1391803200,"Sat"},{"main",1391889600,"09.02"},
        {"sub",1391976000,"Mon"},{"sub",1392062400,"Tue"},{"sub",1392148800,"Wed"},
        {"sub",1392235200,"Thu"},{"sub",1392321600,"Fri"},{"sub",1392408000,"Sat"},
        {"main",1392494400,"16.02"},{"sub",1392580800,"Mon"},{"sub",1392667200,"Tue"},
        {"sub",1392753600,"Wed"},{"sub",1392840000,"Thu"},{"sub",1392926400,"Fri"},
        {"sub",1393012800,"Sat"},{"main",1393099200,"23.02"},{"sub",1393185600,"Mon"},
        {"sub",1393272000,"Tue"},{"sub",1393358400,"Wed"},{"sub",1393444800,"Thu"},
        {"sub",1393531200,"Fri"},{"sub",1393617600,"Sat"},{"main",1393704000,"02.03"},
        {"sub",1393790400,"Mon"},{"sub",1393876800,"Tue"},{"sub",1393963200,"Wed"},
        {"sub",1394049600,"Thu"},{"sub",1394136000,"Fri"},{"sub",1394222400,"Sat"},
        {"main",1394308800,"09.03"},{"sub",1394395200,"Mon"},{"sub",1394481600,"Tue"},
        {"sub",1394568000,"Wed"},{"sub",1394654400,"Thu"},{"sub",1394740800,"Fri"},
        {"sub",1394827200,"Sat"},{"main",1394913600,"16.03"},{"sub",1395000000,"Mon"},
        {"sub",1395086400,"Tue"},{"sub",1395172800,"Wed"},{"sub",1395259200,"Thu"},
        {"sub",1395345600,"Fri"},{"sub",1395432000,"Sat"},{"main",1395518400,"23.03"},
        {"sub",1395604800,"Mon"},{"sub",1395691200,"Tue"},{"sub",1395777600,"Wed"},
        {"sub",1395864000,"Thu"},{"sub",1395950400,"Fri"},{"sub",1396036800,"Sat"},
        {"main",1396123200,"30.03"},{"sub",1396209600,"Mon"},{"sub",1396296000,"Tue"},
        {"sub",1396382400,"Wed"},{"sub",1396468800,"Thu"},{"sub",1396555200,"Fri"},
        {"sub",1396641600,"Sat"},{"main",1396728000,"06.04"},{"sub",1396814400,"Mon"},
        {"sub",1396900800,"Tue"},{"sub",1396987200,"Wed"},{"sub",1397073600,"Thu"},
        {"sub",1397160000,"Fri"},{"sub",1397246400,"Sat"},{"main",1397332800,"13.04"},
        {"sub",1397419200,"Mon"},{"sub",1397505600,"Tue"},{"sub",1397592000,"Wed"},
        {"end",1397652191,"16.04 16:43"}]} 
        = graph:calc_time_grid(1391198414, 6453777, 25, 1296, 9).

too_close_values(_Config) ->
    {ok, 
        [{"start",1385201331,"23.11 14:08"},{"sub_wo_label",1385323200,""},{"sub_wo_label",1385409600,""},
        {"sub_wo_label",1385496000,""},{"sub_wo_label",1385582400,""},{"sub_wo_label",1385668800,""},
        {"sub_wo_label",1385755200,""},{"main",1385841600,"01.12"},{"sub_wo_label",1385928000,""},
        {"sub_wo_label",1386014400,""},{"sub_wo_label",1386100800,""},{"sub_wo_label",1386187200,""},
        {"sub_wo_label",1386273600,""},{"sub_wo_label",1386360000,""},{"main",1386446400,"08.12"},
        {"sub_wo_label",1386532800,""},{"sub_wo_label",1386619200,""},{"sub_wo_label",1386705600,""},
        {"sub_wo_label",1386792000,""},{"sub_wo_label",1386878400,""},{"sub_wo_label",1386964800,""},
        {"main",1387051200,"15.12"},{"sub_wo_label",1387137600,""},{"sub_wo_label",1387224000,""},
        {"sub_wo_label",1387310400,""},{"sub_wo_label",1387396800,""},{"sub_wo_label",1387483200,""},
        {"sub_wo_label",1387569600,""},{"main",1387656000,"22.12"},{"sub_wo_label",1387742400,""},
        {"sub_wo_label",1387828800,""},{"sub_wo_label",1387915200,""},{"sub_wo_label",1388001600,""},
        {"sub_wo_label",1388088000,""},{"sub_wo_label",1388174400,""},{"main",1388260800,"29.12"},
        {"sub_wo_label",1388347200,""},{"sub_wo_label",1388433600,""},{"sub_wo_label",1388520000,""},
        {"sub_wo_label",1388606400,""},{"sub_wo_label",1388692800,""},{"sub_wo_label",1388779200,""},
        {"main",1388865600,"05.01"},{"sub_wo_label",1388952000,""},{"sub_wo_label",1389038400,""},
        {"sub_wo_label",1389124800,""},{"sub_wo_label",1389211200,""},{"sub_wo_label",1389297600,""},
        {"sub_wo_label",1389384000,""},{"main",1389470400,"12.01"},{"sub_wo_label",1389556800,""},
        {"sub_wo_label",1389643200,""},{"sub_wo_label",1389729600,""},{"sub_wo_label",1389816000,""},
        {"sub_wo_label",1389902400,""},{"sub_wo_label",1389988800,""},{"main",1390075200,"19.01"},
        {"sub_wo_label",1390161600,""},{"sub_wo_label",1390248000,""},{"sub_wo_label",1390334400,""},
        {"sub_wo_label",1390420800,""},{"sub_wo_label",1390507200,""},{"sub_wo_label",1390593600,""},
        {"main",1390680000,"26.01"},{"sub_wo_label",1390766400,""},{"sub_wo_label",1390852800,""},
        {"sub_wo_label",1390939200,""},{"sub_wo_label",1391025600,""},{"sub_wo_label",1391112000,""},
        {"sub_wo_label",1391198400,""},{"main",1391284800,"02.02"},{"sub_wo_label",1391371200,""},
        {"sub_wo_label",1391457600,""},{"sub_wo_label",1391544000,""},{"sub_wo_label",1391630400,""},
        {"sub_wo_label",1391716800,""},{"sub_wo_label",1391803200,""},{"main",1391889600,"09.02"},
        {"sub_wo_label",1391976000,""},{"sub_wo_label",1392062400,""},{"sub_wo_label",1392148800,""},
        {"sub_wo_label",1392235200,""},{"sub_wo_label",1392321600,""},{"sub_wo_label",1392408000,""},
        {"main",1392494400,"16.02"},{"sub_wo_label",1392580800,""},{"sub_wo_label",1392667200,""},
        {"sub_wo_label",1392753600,""},{"sub_wo_label",1392840000,""},{"sub_wo_label",1392926400,""},
        {"sub_wo_label",1393012800,""},{"main",1393099200,"23.02"},{"sub_wo_label",1393185600,""},
        {"sub_wo_label",1393272000,""},{"sub_wo_label",1393358400,""},{"sub_wo_label",1393444800,""},
        {"sub_wo_label",1393531200,""},{"sub_wo_label",1393617600,""},{"main",1393704000,"02.03"},
        {"sub_wo_label",1393790400,""},{"sub_wo_label",1393876800,""},{"sub_wo_label",1393963200,""},
        {"sub_wo_label",1394049600,""},{"sub_wo_label",1394136000,""},{"sub_wo_label",1394222400,""},
        {"main",1394308800,"09.03"},{"sub_wo_label",1394395200,""},{"sub_wo_label",1394481600,""},
        {"sub_wo_label",1394568000,""},{"sub_wo_label",1394654400,""},{"sub_wo_label",1394740800,""},
        {"sub_wo_label",1394827200,""},{"main",1394913600,"16.03"},{"sub_wo_label",1395000000,""},
        {"sub_wo_label",1395086400,""},{"sub_wo_label",1395172800,""},{"sub_wo_label",1395259200,""},
        {"sub_wo_label",1395345600,""},{"sub_wo_label",1395432000,""},{"main",1395518400,"23.03"},
        {"sub_wo_label",1395604800,""},{"sub_wo_label",1395691200,""},{"sub_wo_label",1395777600,""},
        {"sub_wo_label",1395864000,""},{"sub_wo_label",1395950400,""},{"sub_wo_label",1396036800,""},
        {"main",1396123200,"30.03"},{"sub_wo_label",1396209600,""},{"sub_wo_label",1396296000,""},
        {"sub_wo_label",1396382400,""},{"sub_wo_label",1396468800,""},{"sub_wo_label",1396555200,""},
        {"sub_wo_label",1396641600,""},{"main",1396728000,"06.04"},{"sub_wo_label",1396814400,""},
        {"sub_wo_label",1396900800,""},{"sub_wo_label",1396987200,""},{"sub_wo_label",1397073600,""},
        {"sub_wo_label",1397160000,""},{"sub_wo_label",1397246400,""},{"main",1397332800,"13.04"},
        {"sub_wo_label",1397419200,""},{"sub_wo_label",1397505600,""},{"end",1397658249,"16.04 18:24"}]} 
        = graph:calc_time_grid(1385201331, 12456918, 25 / 1296, 9).
